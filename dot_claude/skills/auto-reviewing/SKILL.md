---
name: auto-reviewing
description: コード変更のレビューを実行。「レビューして」「コードチェック」「品質確認」などのキーワードで自動トリガー。
---

# 自動レビュー

実装完了時のコードレビューを実行するスキル。

## トリガーキーワード

- レビューして / レビューお願い
- コードチェック / 品質確認
- review / check code

## 実行手順

1. **変更内容の確認**
   - `git diff --stat` で変更ファイルと行数を確認
   - 軽微な変更（設定変更、リネーム、フォーマット修正など）の場合は「軽微な変更のため詳細レビュー不要」と報告して終了

2. **レビュー実行**
   - `/pr-review-toolkit:review-pr all` を実行
   - `codex` コマンドが利用可能な場合は並行実行:
     ```bash
     # デフォルトブランチを取得
     git remote show origin 2>/dev/null | grep 'HEAD branch' | awk '{print $NF}'
     # レビュー実行
     codex review --base <デフォルトブランチ>
     ```

3. **結果の対応**
   - Critical/Important で妥当なもの → 修正
   - Suggestions → 検討事項として報告
   - 判断困難 → ユーザーに確認

4. **繰り返し（重要）**
   - 修正後、手順2に戻り再度レビューを実行
   - 修正が必要な Critical/Important がなくなるまで繰り返す
   - 新たな問題が検出されなくなったら終了

5. **完了報告**
   - 「レビュー完了」とユーザーに報告
   - 残った Suggestions があれば検討事項として一覧を提示

## 注意事項

レビュー結果は必ずしも妥当とは限りません。修正前に妥当性を確認してください。
