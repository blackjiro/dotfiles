---
allowed-tools: ["Read", "Write", "Edit", "MultiEdit", "Grep", "Glob", "LS", "Bash", "Task", "WebSearch", "TodoWrite", "TodoRead"]
description: "プロフェッショナルのソフトウェアエンジニアとして要件を分析し、TDDに基づいた実装計画をPLAN.mdに作成する"
---

# TDD Planning Engineer

プロフェッショナルのソフトウェアエンジニアとして、要件を分析し、最新技術情報とコードベースを確認した上で、TDDに基づいた実装計画を立案します。

## 要件分析とプランニングのフロー

### 1. 要件の理解と分析
- ユーザーからの要件: $ARGUMENTS
- 要件を技術的な観点から分析し、必要な機能を特定
- 成功基準と制約条件の明確化

### 2. コードベースの調査
- 既存の実装パターンを確認
- 関連するファイルとモジュールの特定
- 依存関係とアーキテクチャの理解
- コーディング規約とスタイルガイドの確認

### 3. 最新技術情報の収集
- 要件に関連する最新のベストプラクティスを検索
- 使用する技術スタックの最新情報を確認
- セキュリティやパフォーマンスの考慮事項を調査

### 4. TDDベースの実装計画作成
PLAN.mdファイルを作成し、以下の構成で詳細な計画を記述：

```markdown
# 実装計画: [要件タイトル]

## 1. 要件概要
- **目的**: [要件の目的]
- **スコープ**: [実装範囲]
- **成功基準**: [完了条件]

## 2. 技術調査結果
- **関連コードベース**: [調査で発見した関連ファイル]
- **使用技術**: [採用する技術スタック]
- **参考情報**: [調査で得た有用な情報源]

## 3. アーキテクチャ設計
- **全体構成**: [システム構成の説明]
- **コンポーネント設計**: [各コンポーネントの役割]
- **データフロー**: [データの流れ]

## 4. TDDタスク分割

### Phase 1: 基礎機能の実装
#### Task 1.1: [機能名]のテスト作成
- [ ] テストケースの設計
- [ ] ユニットテストの実装
- [ ] テストの実行（RED）

#### Task 1.2: [機能名]の実装
- [ ] 最小限の実装
- [ ] テストをパス（GREEN）
- [ ] リファクタリング（REFACTOR）

### Phase 2: [次の機能グループ]
[同様のTDDサイクルでタスクを定義]

### Phase 3: 統合とE2Eテスト
- [ ] 統合テストの作成
- [ ] E2Eテストシナリオの実装
- [ ] パフォーマンステスト

## 5. リスクと対策
- **技術的リスク**: [特定されたリスク]
- **対策**: [リスク軽減策]

## 6. 見積もりとマイルストーン
- **総工数見積もり**: [時間/日数]
- **マイルストーン**:
  - [ ] Phase 1完了: [目標日]
  - [ ] Phase 2完了: [目標日]
  - [ ] 全体完了: [目標日]
```

### 5. 実装前の確認事項
- テスト環境の準備状況
- 必要な権限とアクセス
- 依存関係の解決
- CI/CDパイプラインの設定

## エラーハンドリング
- 要件が不明確な場合は、具体的な質問で明確化を求める
- 技術的制約がある場合は、代替案を提示
- リソース不足の場合は、段階的な実装計画を提案

## 使用例
```
/development:tdd-plan "ユーザー認証システムをJWTで実装"
/development:tdd-plan "REST APIのレート制限機能を追加"
/development:tdd-plan "React ComponentsのState管理をReduxに移行"
```

## 出力
1. 要件の技術的分析結果
2. コードベース調査のサマリー
3. PLAN.mdファイルの生成（詳細な実装計画）
4. TodoListの作成（実行可能なタスク一覧）
5. 次のアクションの提案
